{% extends 'base.html.twig' %}

{% block title %}{{'Mon panier'|trans}}
{% endblock %}

{% block body %}
	<div class="container pt-5">

		<div class="p-3">
			<h1>{{'Votre panier'|trans}}</h1>
		</div>

		{% if items | length > 0 %}
			<table class="table">
				<thead>
					<tr>
						<td>{{'Produit'|trans}}</td>
						<td>{{'Prix'|trans}}</td>
						<td>{{'Quantité'|trans}}</td>
						<td>{{'Total'|trans}}</td>
						<td>Actions</td>
					</tr>
				</thead>
				<tbody>
					{% for item in items %}
						<tr>
							<td>{{item.product.name}}</td>
							<td>{{item.product.price}}
								€</td>
							<td>{{item.quantity}}</td>
							<td>{{  item.product.price * item.quantity }}
								€</td>
							<td>
								<a href="{{ path('franchise_cart_delete', {id: item.product.id}) }}" class="btn btn-danger btn-sm">
									<i class="fas fa-trash"></i>
								</a>
							</td>
						</tr>
					{% endfor %}
				</tbody>
				<tfoot>
					<tr>
						<td class="text-right" colspan="3">{{'Total'|trans}}
							:
						</td>
						<td>{{ total }}
							€</td>
						<td></td>
					</tr>
				</tfoot>
			</table>

			<div class="d-flex justify-content-end mt-5">
				<a class="btn btn-success" href="{{ path('franchise_cart_validate') }}">
					{{'Valider mon panier'|trans}}
					<i class="fas fa-check ml-2"></i>
				</a>
			</div>

		{% else %}
			<h3>{{'Votre panier est vide'|trans}}</h3>
		{% endif %}
	</div>

{% endblock %}